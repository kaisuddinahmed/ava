# Activity Log (AL)
**Project**: Virtual Salesman System
**Start Date**: 2026-01-14

| Timestamp | Activity | Files Affected | Purpose / Context |
| :--- | :--- | :--- | :--- |
| **2026-01-14** | **Session 1: Scoping** | `task.md`, `implementation_plan.md` | Initial scoping of E-commerce Agent (Backend + Frontend). |
| | **Requirement Shift** | `behavior_design.md` | User clarified: **Voice Agent** with *Proactive* behavior (Sales triggers). |
| | **Architecture Expansion** | `implementation_plan.md` | Added **"Analyst Agent"** (Real-time analysis parallel service). |
| | **Naming Clean-up** | *All Docs* | Removed "Markopolo" brand name -> normalized to "Analyst Agent". |
| **2026-01-14** | **Session 2: V1 Build** | `master_architecture.md`, `shared/types.ts` | **CRITICAL**: Aligned with `PRD.docx`. Adopted **Contract-Driven Architecture**. <br>Defined `AnalystContract` schema as single source of truth. |
| | **Monorepo Setup** | `packages/*`, `package.json` | Created `npm workspaces` structure: <br>- `server` (Analyst Brain) <br>- `widget` (Sales Agent) <br>- `dashboard` (Admin UI) <br>- `shared` (Types) |
| | **Backend Implementation** | `packages/server/index.ts` | Implemented `EventIngestor`, `ContractGenerator` (Mock), and WebSocket stream. |
| | **Frontend Implementation** | `packages/widget/src/main.tsx` | Implemented `ContractGuard` (Permission system) and `SignalDetector`. |
| | **Dashboard Implementation** | `packages/dashboard/src/main.tsx` | Built Live Visualization of the Event Stream and Contract State. |
| | **Verification & Fix** | `packages/widget/src/main.tsx` | **Bug Fix**: Widget wasn't mounting. Added `render(<App />, ...)` call. <br>Verified "Price Friction -> Contract -> Pop-up" loop via Browser Agent. |
| **2026-01-27 12:54** | **Documentation (Memory)** | `docs/master_architecture.md` | Created Single Source of Truth for Architecture. |
| **2026-01-27 12:58** | **Voice Module (Phase 3)** | `packages/widget/src/main.tsx` | Implemented `useVoice` hook using `SpeechSynthesis` API. |
| **2026-01-27 13:08** | **Dashboard Fix** | `packages/dashboard/src/main.tsx` | **Bug Fix**: Dashboard was rendering black-on-black. <br>Applied **Inline Styles** to force visibility. |
| **2026-01-27 13:48** | **Signal Detector (Types)** | `packages/shared/types.ts` | Expanded `UserEvent` schema to include `idle`, `exit_intent`, `click_rage`. |
| **2026-01-27 13:49** | **Widget: Signal Detector** | `packages/widget/src/main.tsx` | **Frontend Upgrade** (The Eyes):<br>Detects inactivity (>5s), mouse leaving viewport, and frustration clicks. |
| **2026-01-27 13:50** | **Brain: Logic Upgrade** | `packages/server/index.ts` | **Backend Upgrade** (The Logic):<br>Refactored `generateContract` to issue *specific* voice responses for new signals. |
| **2026-01-27 13:53** | **Architecture Refinement** | `docs/master_architecture.md` | Added **"Key Project Files"** map to document core locations. |
| **2026-01-27 21:28** | **Showcase Mode (Container)** | `packages/demo-view/index.html` | Created **Split-View Container** (80% Shop / 20% Brain) using CSS Grid & Iframes. |
| **2026-01-27 21:28** | **Showcase Workspace** | `packages/demo-view/package.json` | Initialized new workspace for the investor/demo view. |
| **2026-01-27 21:29** | **Dashboard Responsiveness** | `packages/dashboard/src/main.tsx` | **UI Upgrade**: Adapted Dashboard for narrow sidebar usage. <br>Switched to Flexbox (Stacking) for mobile/sidebar compatibility. |
| **2026-01-27 21:29** | **Orchestration** | `package.json` | Added `npm run start:demo` to launch the unified Showcase View. |
| **2026-01-27 21:35** | **Orchestration Fix** | `package.json` | Added `npm run dev:all` (via `concurrently`) to launch ALL services simultaneously (Server, Widget, Dashboard, Demo). |
| **2026-01-27 21:42** | **Visual Overhaul (Demo)** | `packages/widget/index.html` | **Storefront Redesign**: Created "TechSpace" premium theme. <br>- **Dark UI**: Deep Purple/Blue Gradient background. <br>- **Assets**: Integrated real high-quality images (Unsplash). <br>- **UX**: Added Hero section & Navigation. |
| **2026-01-28 10:15** | **MVP Analysis** | `docs/uplift_plan.md` | Analyzed `MVP.md` and created gap analysis + uplift strategy. |
| **2026-01-28 10:17** | **Server Intelligence** | `packages/server/index.ts` | **Backend Upgrade**: Implemented **Stateful Analysis**. <br>- Added in-memory session history. <br>- Implemented **Confusion Detection** (Add/Remove Cycles). <br>- Implemented **Search Frustration Detection** (Zero Results). |
| **2026-01-28 10:20** | **Interactive Demo Store** | `packages/widget/*.tsx`, `index.html` | **Frontend Upgrade**: <br>- Exposed `window.DemoTrigger` for manual event firing. <br>- Added Interactive Search Bar (triggers frustration). <br>- Added Interactive Cart Buttons (triggers confusion). |
| **2026-01-28 10:21** | **Type Def Update** | `packages/shared/types.ts` | Updated schema to include `search`, `remove_from_cart` events and `confusion` friction type. |
| **2026-01-28 10:30** | **Refactoring (Naming)** | `packages/*` | **Package Rename**: <br>- `packages/server` -> `packages/analyst` <br>- `packages/widget` -> `packages/agent` <br>Updated dependencies and `master_architecture.md` to reflect the new structure. |
| **2026-01-28 10:45** | **UX Polish (Phase 2)** | `packages/agent/src/*` | **Frontend Upgrade**: <br>- **Mute Toggle**: Added speaker icon to control TTS. <br>- **Proactive Bubbles**: Added "Preview Mode" for suggestions to reduce intrusion. <br>- **Animations**: Added custom CSS animations (`bounce`, `fade-in`). |
| **2026-01-28 11:00** | **Demo Suite (Phase 3)** | `packages/*` | **Major Demo Upgrade**: <br>- **Triggers**: Added Filters, Specs, Similar Items to store UI. <br>- **Analyst**: Added logic for `Indecision`, `Research`, `Hesitation`. <br>- **Dashboard**: Added "Projected Uplift" metrics panel and rich event logs. |
| **2026-01-28 11:08** | **Demo Suite (Controls)** | `packages/*` | **Interactive Controls**: <br>- **Dashboard**: Added "Live Control" panel with force-trigger buttons (Exit, Confusion, etc.). <br>- **Agent**: Added "Visual Feedback system" (`risk-pulse`, `success-glow` animations). |
| **2026-01-28 11:18** | **Bug Fix (Dashboard)** | `packages/dashboard` | **Crash Resolution**: <br>- Fixed "White Screen" caused by undefined array access in Event Log/Radar. <br>- Added Error Boundary and Defensive Coding (`|| []`) for robustness during demos. |
| **2026-01-28 11:34** | **Success Mechanics (Phase 5)** | `packages/agent` | **Attribution System**: <br>- Implemented `markIntervention()` to track AI-assisted sessions. <br>- **Visuals**: Added Confetti & "Conversion Saved" badge to Checkout Success screen. |
| **2026-01-28 11:38** | **Failure Handling (Item 10)** | `packages/analyst`, `packages/agent` | **Trust Building**: <br>- **Silent Mode**: Analyst filters low confidence (<0.7) signals. <br>- **Dismissal**: Agent respects "X" button with 2-minute cooldown. |
| **2026-01-28 11:42** | **Visual Polish (Final)** | `packages/agent` | **Heatmap & Cart**: <br>- **Heatmap**: Canvas overlay visualizing user attention (mouse trails). <br>- **Cart Total**: Navbar now displays total dollar value. |
| **2026-01-28 11:44** | **Critical Bug Fix** | `packages/agent/index.html` | **Crash Resolution**: <br>- Fixed "Duplicate Declaration" error caused by redundant import statement. Site functional. |
| **2026-01-28 11:58** | **Layout Adjustment** | `packages/demo-view/index.html` | **Demo Polish**: Adjusted Split View to **65% User / 35% System** for better visibility of the Analyst Dashboard during demos. |
| **2026-01-28 12:00** | **Competitor Feature** | `packages/analyst`, `packages/dashboard` | **"Thought Process" Log**: <br>- **Analyst**: Generates human-readable narrative traces (e.g., "Detected Price Sensitivity"). <br>- **Dashboard**: Added Terminal-style panel to visualize these logs in real-time. |
| **2026-01-28 12:05** | **Bug Fix (Layout)** | `packages/agent/index.html` | **Scroll Jump Fix**: Added `e.preventDefault()` to "+ Add" button to prevent screen jumping to top on click. |
| **2026-01-28 12:15** | **Performance Engineering** | `packages/agent/src/main.tsx` | **Unfreeze / Black Screen Fix**: <br>- **Logic**: Refactored `App` to use `useCallback` (memoization) to stop infinite re-render loops. <br>- **Audio**: Moved `speechSynthesis` to async thread to prevent main-thread blocking. <br>- **Heatmap**: Switched to Sprite-based rendering (Canvas Optimization). |
| **2026-01-28 12:25** | **UI Refinement** | `packages/agent/index.html` | **Search & Filters**: <br>- Relocated Search Dropdown to navbar (better visibility). <br>- Added "View All" filter button. <br>- Fixed Category Navigation links to filter product grid. |
| **2026-01-28 12:35** | **Bug Fix (HTML)** | `packages/agent/index.html` | **Menu Restoration**: <br>- Corrected "Double Render" glitch in User Menu ("Member Member"). <br>- Updated User Initials from "AM" to "KA". <br>- Updated default user name to "Kais Uddin Ahmed". |
| **2026-01-28 12:50** | **Product Experience** | `packages/agent/index.html`, `products.ts` | **Rich Product Details**: <br>- Implemented **Product Detail Modal** with Image, Desc, Qty, Wishlist. <br>- **Unique Images**: Added signature generation logic to ensure unique asset URLs for all items. <br>- **Layout**: Moved "Similar Products" to Modal; added "Home" link to navbar. |
| **2026-01-28 13:00** | **CRITICAL FIX: Freeze/Black Screen** | `packages/dashboard/src/main.tsx`, `analyst/index.ts` | **Root Cause**: React Rendering Exhaustion & Event Flooding. <br>**Fix 1 (Server)**: Implemented Rate Limiting (300ms throttle) in Analyst Brain. <br>**Fix 2 (Client)**: Debounced `exit_intent` signal (Max 1 per 5s). <br>**Fix 3 (UI)**: Reduced "Thought Process" visual buffer from 50 -> 20 lines. |
| **2026-01-28 13:05** | **CRITICAL FIX: Layout Lock** | `packages/agent/src/main.tsx`, `index.css` | **Root Cause**: `position: fixed` on class `risk-pulse` was applied to `<body>`, locking scroll/layout. <br>**Fix**: Refactored to use dedicated `<div class="risk-pulse">` Overlay component instead of modifying Body classes. |
| **2026-01-28 13:06** | **Performance Optimization** | `packages/agent/src/store/store.ts` | **I/O Blocking Fix**: Switched Store Engine from `localStorage` -> `sessionStorage`. <br>Prevents main thread blocking during rapid Cart interactions (Sync I/O). |
| **2026-01-28 13:10** | **UI Polish** | `packages/demo-view/index.html` | **Label Removal**: Removed "USER VIEW (E-Commerce Store)" overlay label for cleaner demo presentation. |
| **2026-01-28 13:12** | **Wishlist Feature** | `packages/agent/index.html`, `analyst/index.ts`, `shared/types.ts` | **User Intent Tracking**: <br>- Added functional wishlist button with visual feedback (pink heart fill). <br>- Implemented `add_to_wishlist` event type and `high_interest` intent. <br>- Analyst now tracks wishlist activity as 85% confidence purchase signal. |
| **2026-01-28 14:25** | **MAJOR: Dashboard Terminal Redesign** | `packages/dashboard/src/main.tsx`, `analyst/index.ts` | **Brain Monitor Interface (Phase 1)**: <br>- Replaced 3-column layout with single-column terminal view. <br>- Added TRACKING/ANALYST log format for clarity. <br>- Updated all narrative generation to match new format. <br>- Removed metrics/control panels for clean demo focus. |
| **2026-01-28 14:36** | **Dashboard Theme Overhaul** | `packages/dashboard/src/main.tsx`, `demo-view/index.html` | **Cyberpunk Redesign**: <br>- Created unique deep purple gradient background (not copying reference sample). <br>- Implemented purple-to-violet status banner with animated cyan pulse. <br>- Added smart auto-scroll with "New activity" button. <br>- Changed status text to "Analyst in action" with dynamic state updates. <br>- Applied Inter + JetBrains Mono font stack. <br>- Removed "SYSTEM VIEW (THE BRAIN)" label. |
| **2026-01-28 15:18** | **MAJOR: Dashboard Consolidation** | `packages/analyst/`, `packages/demo-view/`, `package.json` | **Architecture Simplification**: <br>- **Eliminated** standalone `packages/dashboard/` package. <br>- **Migrated** dashboard UI into `packages/analyst/ui/` directory. <br>- **Backend Integration**: Analyst Express server now serves static UI files from `ui/dist/`. <br>- **Configuration**: Added Vite build scripts (`build:ui`, `dev:ui`) to analyst package. <br>- **Demo View**: Updated iframe from `localhost:5174` → `localhost:3000`. <br>- **Dev Scripts**: Removed `dev:dashboard`, updated `dev:all` to run only 3 services. <br>- **Benefits**: Reduced from 4 to 3 packages, single port for analyst (API + UI). |
| **2026-01-28 15:27** | **Bug Fix: Dashboard Log Buffer** | `packages/analyst/ui/src/main.tsx` | **Message Persistence**: Increased terminal log buffer from 20 → 200 entries to prevent messages from vanishing during active sessions. |
| **2026-01-28 15:29** | **Bug Fix: Wishlist State** | `packages/agent/index.html` | **Per-Product Tracking**: Fixed wishlist bug where clicking heart on one product affected all products. <br>- **Root Cause**: Local `isWishlisted` variable was shared/reset across modal opens. <br>- **Fix**: Implemented global `Map` (`window.wishlistState`) to track state per product ID. <br>- **Result**: Each product now maintains independent wishlist state with correct visual feedback. |
| **2026-01-28 16:12** | **UX Improvements (Phase 6)** | `packages/agent/src/main.tsx`, `packages/agent/src/index.css`, `packages/demo-view/index.html` | **Professional Polish**: <br>- **Agent Icon**: Replaced message bubble with professional 3D female customer support avatar (blue-purple gradient, headset). Added CSS shine animation effect. <br>- **Heatmap Removal**: Removed heatmap toggle from user-facing chat interface (tracking still runs for backend analytics). <br>- **Analyst Panel Toggle**: Added "See how analyst work" vertical button on right edge of demo view. Panel hidden by default (0% width), slides to 35% with smooth animation. Button includes shimmer effect and updates text/icon when toggled. |
| **2026-01-28 20:59** | **Bug Fix: Blank Log Lines** | `packages/analyst/index.ts` | **Analyst Log Cleanup**: <br>- Fixed blank timestamp lines in analyst terminal output. <br>- Added complete logging for all `attention` event signals (window_focused, window_blurred). <br>- Added fallback logging for `search_action` and `product_detail` events. <br>- Added explicit handlers for high-frequency events (scroll, heartbeat, session_journey) to prevent spam. |
| **2026-01-28 21:05** | **MAJOR: Intervention Analysis** | `docs/intervention_analysis.md` | **UX Problem Investigation**: <br>- Documented critical flaws: aggressive interventions, no cooldown system, no session tracking. <br>- Analyzed all 9 intervention types with firing conditions and issues. <br>- **User Complaints**: Price hover spam, exit intent on every mouse move, specs help unnecessary, browsing frustration too early. |
| **2026-01-28 21:18** | **MAJOR: Intervention Cooldown System** | `packages/analyst/index.ts`, `packages/agent/src/main.tsx` | **Core USP Fix - Intelligent Intervention Management**: <br>**Infrastructure (analyst Lines 27-120)**: <br>- Implemented `sessionInterventions` and `sessionStartTimes` Maps for tracking. <br>- Created `canFireIntervention()` with cooldown enforcement (2-10 min periods). <br>- Created `recordIntervention()` for intervention history. <br>- Added minimum session time checks (1-5 min before interrupting). <br>- Added context-aware requirements (e.g., 3+ price hovers for price message). <br>**Recommendation Logic (analyst Lines 371-472)**: <br>- Completely rewrote intervention system with `tryIntervention()` helper. <br>- Exit intent: Now requires 2 min session + 5 min cooldown + max 2x per session. <br>- Price sensitivity: Now requires 3+ price hovers + 1 min session + once per session. <br>- Search frustration: Now requires 5 min + 50+ scrolls + 10+ products + once per session. <br>- Specs help: **Completely removed** (annoying, low value). <br>- All other interventions: 2-4 min cooldowns enforced. <br>**Client-Side (agent Lines 192-293)**: <br>- Fixed element hover to only track product-related elements (eliminated "other" spam). <br>- Increased browsing pattern thresholds: 30s/10 scrolls → 5 min/50 scrolls. <br>- Increased search frustration: 2 searches/15s → 4 searches/3 min. <br>**Session Context**: Tracks priceHoverCount, scrollCount, productsViewed, cartItems for smart decisions. |
| **2026-01-28 21:31** | **Documentation Update** | `docs/master_architecture.md`, `docs/activity_log.md` | **Future Context Preservation**: <br>- Updated Master Architecture to V1.5 with comprehensive intervention system documentation. <br>- Added cooldown periods table, implementation details, and behavior changes. <br>- Documented session context tracking and gating logic. <br>- Updated activity log with all intervention work from today's session. |
| **2026-01-28 21:43** | **Log Verbosity Reduction** | `packages/analyst/index.ts` | **Analyst Log Cleanup (Phase 2)**: <br>**Removed Low-Value Logs**: <br>- Skipped `idle` event (not actionable). <br>- Skipped `window_focused` and `window_blurred` from `attention` events (too noisy). <br>- Skipped `device_context` event (collected once at start). <br>- Skipped normal `network_speed` events (only log if slow-2g). <br>**Cursor Movement Aggregation (Lines 123-146)**: <br>- Created `cursorAggregation` Map to track samples. <br>- Implemented `shouldLogCursorMovement()` function. <br>- Now logs cursor activity summary once per minute instead of every event. <br>**Result**: ~60-75% reduction in log spam while maintaining all actionable insights. |
| **2026-01-28 21:46** | **Price Sensitivity Detection Refinement** | `packages/analyst/index.ts` | **Pattern-Based Friction Detection**: <br>**Problem**: Price sensitivity triggered on EVERY price hover (2s+), creating 90% false positive rate. <br>**Solution (Lines 236-285)**: <br>- **Removed**: Single-hover trigger (line 236-239). <br>- **Pattern #1**: Extended examination - only trigger after 5+ seconds hover on single price. <br>- **Pattern #2**: Comparison shopping - only trigger after checking prices on 5+ different products. <br>**Logging Update (Lines 670-698)**: <br>- Normal hover (< 5s): Just "User evaluating Price Tag" (no friction). <br>- Extended hover (5s+): Adds "Extended price examination - genuine price concern". <br>- Comparison pattern (5+ products): Adds "Price comparison pattern detected". <br>**Result**: Eliminates false positives during normal browsing, only detects genuine price concerns. |
| **2026-01-29 11:00** | **Navigation Tracking System** | `packages/agent/src/main.tsx`, `packages/analyst/index.ts` | **Accurate Page Flow Tracking**: <br>**Frontend (agent Lines 548-610)**: <br>- Implemented `session_started` event detection using sessionStorage flag. <br>- Added `page_navigation` event tracking on initial load with proper page name extraction. <br>- Implemented navigation click listener to capture menu selections (Laptops, Audio, Wearables, Accessories). <br>- Created `getPageName()` helper to parse URL pathnames into human-readable names. <br>- Added 100ms delay for navigation completion before event emission. <br>- Auto-detects collection pages vs. regular pages. <br>**Backend (analyst Lines 580-601)**: <br>- Added narrative templates for `session_started` ("New user detected") and `page_navigation` events. <br>- Generates collection-specific logs (e.g., "Navigating to Laptops collection"). <br>**Result**: Accurate tracking of user navigation flows, no duplicate "Home" logs, correct page identification. |
| **2026-01-29 11:05** | **Demo Log Cleanup (Phase 3)** | `packages/analyst/index.ts`, `packages/analyst/ui/src/main.tsx` | **Background Event Filtering**: <br>**Backend (analyst Lines 1015-1018)**: <br>- Updated fallback `else` clause to skip demo-hidden events instead of logging "Processed event". <br>- Removed all logging from `attention` and `cursor_stream` handlers (Lines 870-881). <br>**Frontend (analyst UI Line 332)**: <br>- Updated `backgroundEvents` array to include `device_context`, `attention`, `scroll`, `scroll_depth`, `session_journey`. <br>- Prevents "Processed event" fallback messages for background analytics events. <br>**TypeScript Fixes**: <br>- Fixed PieChart `percent` undefined error with fallback (Line 233). <br>- Fixed `scrollRef` RefObject type mismatch with type assertion (Line 425). <br>**Result**: Clean, demo-friendly logs showing only user actions and analyst decisions. |
| **2026-01-29 18:40** | **Navigation Tracking Debug Session** | `packages/agent/src/main.tsx` | **Bug Investigation - session_started Event Not Firing**: <br>**Problem**: `session_started` events not appearing in analyst dashboard, only `page_navigation` events logged. <br>**Root Cause Identified**: `sessionStorage.getItem('analyst_session_started')` persists across page loads within the same browser session, preventing `session_started` from firing on subsequent loads. <br>**Investigation Method (Lines 564-576)**: <br>- Examined first-visit detection logic using `sessionStorage` flag. <br>- Conducted browser subagent test: cleared sessionStorage, reloaded page. <br>- **Test Result**: After clearing sessionStorage, `session_started` event correctly emitted with payload `{entry_page: Home}`. <br>**Conclusion**: sessionStorage persistence bug confirmed. Fix required to agent's first-visit detection logic to ensure reliable session tracking. |
| **2026-01-29 20:15** | **Demo Data Quality (Phase 1)** | `packages/agent/src/store/products.ts`, `packages/agent/index.html` | **Data & UI Enhancement**: <br>- **Unique Products**: Updated generator to ensure unique IDs, titles ("Adj Noun Suffix"), and curated images for all 128 products. <br>- **Reviews System**: Added `Review` interface and generator logic (User, Rating, Text, Date). <br>- **UI Implementation**: Added "Customer Reviews" section to Product Modal. <br>- **Verification**: Confirmed reviews render correctly via browser testing. |
| **2026-01-30 13:00** | **Friction Handler (Signals)** | `packages/agent/src/main.tsx` | **Frontend Intelligence (The Eyes)**: <br>- **Text Selection**: Tracks when users highlight price/name (Price Sensitivity). <br>- **Copy Event**: Tracks "Command+C" (Comparison Shopping). <br>- **Scroll Velocity**: Detects "Doom Scrolling" (>1000px/s). <br>- **Footer Interaction**: Tracks "Returns/Shipping" clicks (Trust Gaps). |
| **2026-01-30 13:15** | **Friction Handler (Brain)** | `packages/analyst/index.ts` | **Backend Logic (The Brain)**: <br>- **13 New Rules**: Mapped 13 specific signals to Agent interventions. <br>- **Oscillation Detection**: Tracks A-B-A navigation patterns. <br>- **Cooldown Tuning**: Adjusted timers for `specs_help` and `price_sensitivity`. |
| **2026-01-30 13:30** | **Critical INFRA Fix** | `packages/analyst/index.ts` | **Invisible Log Bug**: <br>- **Problem**: Initial session logs missing from dashboard (race condition). <br>- **Fix**: Implemented **Log History Buffer** (50 lines) to sync state immediately upon UI connection. |
| **2026-01-30 13:45** | **Port Standardization** | `packages/*` | **Stability Fix**: <br>- **Analyst**: Fixed to Port 3000. <br>- **Agent**: Corrected from 3004 -> 3001. <br>- **Demo View**: Fixed to Port 4000. <br>- Updated `demo-view/index.html` to point to correct 3001/3000 ports. |
| **2026-01-30 13:55** | **Dependency Repair** | `node_modules` | **Environment Recovery**: <br>- **Issue**: "Unexpected end of JSON" in `mime-db` caused by corruption. <br>- **Fix**: Full `rm -rf node_modules` and clean `npm install`. Services restored. |
